---
description: OOUI設計書と機能設計書を作成します
---

`documents/docs/requirements.md` に保存された要件定義書を読み込み、その内容をもとに以下の設計書を作成します。

もし要件定義書が存在しない場合は、プロジェクトの概要・目的と作成したい機能の内容を教えてください。

## 1. OOUI設計書（Object-Oriented UI Design）

OOUI設計書は、ユーザーインターフェースをオブジェクト指向の考え方で設計するドキュメントです。この設計書の目的は：

- **画面とデータの一体的な設計**：UIの各要素を「オブジェクト」として捉え、それぞれが持つべきデータと振る舞いを定義
- **並行開発の実現**：この設計書をもとに、フロントエンドのUI実装とバックエンドのAPI開発を同時に進められる
- **データ駆動型の設計**：UIから必要なデータ構造を導き出し、それをAPIの仕様に反映

### 設計内容
- **画面構成**：アプリケーションに必要な画面の一覧と各画面の役割
- **オブジェクトの定義**：各画面に存在するオブジェクト（ユーザー、商品、注文など）の識別
- **データ構造**：各オブジェクトが持つ属性（プロパティ）の詳細定義
- **オブジェクト間の関係**：オブジェクト同士の関連性（1対多、多対多など）
- **ページネーションの要否**：一覧表示でページネーションが必要かどうかの判定（詳細な実装方法は後工程で設計）

すべての要素は論理名（日本語）で定義し、後工程で物理名に変換します。

## 2. 機能設計書

機能設計書は、OOUI設計で定義した機能をシステムアーキテクチャに落とし込むドキュメントです。この設計書の目的は：

- **技術的な実現方法の明確化**：各機能をどのような技術・アーキテクチャで実現するかを定義
- **責務の明確化**：フロントエンドとバックエンドそれぞれの役割と処理内容を明確に分離
- **インターフェースの定義**：コンポーネント間の連携方法とデータの流れを規定

### 設計内容（docs/architecture_guideline.mdに準拠）

- **認証・認可の要否判定**
  - まず、アプリケーションの機能を分析し、認証・認可が必要かどうかを判断
  - ユーザー固有のデータを扱うか、権限制御が必要かを検討
  - 認証が不要な場合は、その旨を明記し、以降の認証設計は省略
  
- **認証・認可設計**（必要と判断された場合のみ）
  - 認証方式（JWT、セッション等）の選定
  - 認証フローの詳細
  - 権限管理の方針
  
- **ファイルアップロード設計**（該当する場合）
  - アップロードフロー（直接アップロード、プリサインドURL等）
  - ファイルの保存先（S3、ローカルストレージ等）
  - ファイルサイズ・形式の制限
  
- **Firestore設計**（使用する場合）
  - コレクション構造の詳細設計
  - セキュリティルールの方針
  - フロントエンドからの直接アクセス範囲
  - バックエンドでの処理内容
  - リアルタイム更新の要否
  
- **フロントエンド/バックエンド分担**
  - 各機能における処理の分担
  - 状態管理の方針
  - キャッシュ戦略

この設計により、APIとフロントエンドの開発チームが独立して作業を進められるようになります。

## 成果物

以下の2つのMarkdownファイルを作成します：

### 1. OOUI設計書
- **ファイル名**: `documents/docs/ooui-design.md`
- **内容**: アプリケーション全体のOOUI設計を1つのドキュメントにまとめる
  - すべての画面構成
  - すべてのオブジェクト定義とデータ構造
  - オブジェクト間の関係性
  - 各一覧画面のページネーション要否

### 2. 機能設計書
- **ファイル名**: `documents/docs/feature-design.md`
- **内容**: アプリケーション全体の技術設計を1つのドキュメントにまとめる
  - 認証・認可の要否と設計
  - ファイルアップロード機能の設計
  - Firestore設計（使用する場合）
  - フロントエンド/バックエンド分担
  - その他の技術的な設計事項

これらの設計書は、プロジェクト全体を包括的に表現する2つのドキュメントとして作成します。
