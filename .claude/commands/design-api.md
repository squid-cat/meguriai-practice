---
description: API設計書（OpenAPI）を作成し、スタブ実装を行います
---

以下の設計書を読み込み、具体的なAPIの設計とスタブ実装を行います：

- OOUI設計書: `documents/docs/ooui-design/[機能名].md`
- 機能設計書: `documents/docs/feature-design/[機能名].md`

## 実施内容

### 1. API設計

`docs/api_design_guideline.md` に従って、以下の設計を行います：

- **エンドポイント設計**
  - RESTfulな命名規則に従ったエンドポイントの定義
  - HTTPメソッドの適切な使い分け（GET、POST、PUT、DELETE、PATCH）
  
- **リクエスト/レスポンス設計**
  - OOUI設計書で定義したデータ構造を元に、具体的なスキーマを定義
  - 論理名（日本語）から物理名（英語）への変換
  - バリデーションルールの定義
  
- **ページネーション設計**（必要な場合）
  - limit/page方式によるページネーション実装
  - メタデータ（総件数、現在のページ等）の返却形式
  
- **エラー設計**
  - 標準的なHTTPステータスコードの使用
  - エラーレスポンスの統一フォーマット

### 2. zod-openapiによるインターフェース定義

`packages/api` パッケージ内に、zod-openapiを使用してAPIインターフェースを定義します：

- 各エンドポイントのスキーマ定義
- バリデーションルールの実装
- OpenAPIドキュメントの自動生成設定

### 3. スタブ実装

各APIエンドポイントに対して、正常系のサンプルレスポンスを返すスタブを実装します：

- 実際の機能実装は行わない（データベースアクセス等は行わない）
- リアルなサンプルデータを返却
- フロントエンド開発が並行して進められるよう、実際のレスポンス形式に準拠

### 成果物

1. **APIルート定義**: `packages/api/src/routes/[機能名]/index.ts`
2. **スキーマ定義**: `packages/api/src/routes/[機能名]/schemas.ts`
3. **OpenAPIドキュメント**: `packages/api/openapi.json` (自動生成)
4. **API設計書**: `documents/docs/api-design/[機能名].md`

このフェーズ完了後、フロントエンドとバックエンドの開発を並行して進めることができます。